(function(t){function e(e){for(var o,l,r=e[0],s=e[1],u=e[2],f=0,d=[];f<r.length;f++)l=r[f],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&d.push(a[l][0]),a[l]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=l(l.s=n[0]))}return t}var o={},a={app:0},i=[];function l(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=o,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(n,o,function(e){return t[e]}.bind(null,o));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:"/wife"}},[t._v("老婆管理")]),t._v(" | "),n("router-link",{attrs:{to:"/fate"}},[t._v("命座管理")]),t._v(" | "),n("el-button",{attrs:{type:"warning",plain:"",round:""},on:{click:t.logout}},[t._v("注销")]),n("router-view")],1)},i=[],l={methods:{logout:function(){localStorage.setItem("token",""),location.reload()}}},r=l,s=(n("034f"),n("2877")),u=Object(s["a"])(r,a,i,!1,null,null,null),c=u.exports,f=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("br"),n("el-button",{attrs:{plain:"",round:""},on:{click:t.getMsg}},[t._v("获取数据")]),n("h2",[t._v("数据: "+t._s(t.msg))])],1)},p=[],m=(n("b0c0"),n("4ff3")),b=n.n(m),g=b.a.create({baseURL:""});g.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.token=e),t}));var h=g,v={data:function(){return{msg:""}},methods:{getMsg:function(){var t=this;h.get("/hello").then((function(e){t.msg=e.data.data[0].name}))}},created:function(){}},w=v,y=Object(s["a"])(w,d,p,!1,null,null,null),_=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h1",[t._v("登录")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[n("label",{attrs:{for:""}},[t._v("米忽悠账号: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("br"),n("br"),n("button",[t._v("进入提瓦特世界")])])])},k=[],L={data:function(){return{username:""}},methods:{login:function(){var t=this;console.log("生产环境","环境变量"),h.post("/login",{username:this.username}).then((function(e){2e4===e.data.code?(localStorage.setItem("token",e.data.token),t.$router.push("/")):console.log("进入提瓦特失败")}))}}},$=L,S=Object(s["a"])($,x,k,!1,null,null,null),O=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br"),n("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("获取wife")]),n("el-table",{staticStyle:{width:"522px",left:"10%","margin-top":"50px"},attrs:{data:t.wifeList,"cell-style":t.rowClass,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),n("el-table-column",{attrs:{prop:"name",label:"老婆",width:"150"}}),n("el-table-column",{attrs:{prop:"fate_id",label:"命座",width:"130"}}),n("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:"wife信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),n("el-form-item",{attrs:{label:"老婆"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"命座"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.form.fate,callback:function(e){t.$set(t.form,"fate",e)},expression:"form.fate"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},V=[],C={methods:{onSubmit:function(){var t=this;h.post("/wifes",this.form).then((function(){t.getWifeList(),t.dialogVisible=!1}))},del:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){h.delete("/wifes/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getWifeList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},rowClass:function(){return"text-align:center"},getWifeList:function(){var t=this;h.get("/wifes").then((function(e){console.log(e.data.data),t.wifeList=e.data.data}))},getFateList:function(){var t=this;h.get("/fate").then((function(e){t.fateList=e.data}))}},data:function(){return{wifeList:[],fateList:[],dialogVisible:!1,form:{name:"",fate:"",id:null}}},created:function(){this.getWifeList(),this.getFateList()}},I=C,P=(n("f534"),Object(s["a"])(I,j,V,!1,null,null,null)),T=P.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br"),n("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("获取命座")]),n("el-table",{staticStyle:{width:"400px",left:"2%","margin-top":"50px"},attrs:{data:t.fateList,"cell-style":t.rowClass,border:""}},[n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"120"}}),n("el-table-column",{attrs:{prop:"name",label:"命座",width:"158"}}),n("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:"命座信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),n("el-form-item",{attrs:{label:"命座"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},F=[],M={data:function(){return{fateList:[],dialogVisible:!1,form:{name:"",id:null}}},methods:{getFateList:function(){var t=this;h.get("/fate").then((function(e){t.fateList=e.data.data}))},rowClass:function(){return"text-align:center"},onSubmit:function(){var t=this;h.post("/fate",this.form).then((function(){t.getFateList(),t.dialogVisible=!1}))},del:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){h.delete("/fate/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getFateList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getFateList()}},D=M,B=Object(s["a"])(D,E,F,!1,null,null,null),W=B.exports;o["default"].use(f["a"]);var z=[{path:"/",name:"Home",component:_},{path:"/login",name:"Login",component:O},{path:"/wife",name:"",component:T},{path:"/fate",name:"",component:W}],J=new f["a"]({base:"/",routes:z});J.beforeEach((function(t,e,n){if("/login"===t.path)n();else{var o=localStorage.getItem("token");o?n():n("/login")}}));var q=J,H=n("5422"),N=n.n(H);n("e9b7");o["default"].use(N.a),o["default"].config.productionTip=!1,new o["default"]({router:q,render:function(t){return t(c)}}).$mount("#app")},"85ec":function(t,e,n){},"9c2c":function(t,e,n){},f534:function(t,e,n){"use strict";n("9c2c")}});
//# sourceMappingURL=app.5f3ba03e.js.map